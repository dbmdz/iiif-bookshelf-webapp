language: java
jdk:
- openjdk8
- oraclejdk8
- openjdk11
addons:
  apt:
    packages:
    - libxml2-utils
before_script:
- PROJECT_VERSION=$(xmllint --xpath '/*[local-name()="project"]/*[local-name()="version"]/text()' pom.xml)
- if [ ! -z "$TRAVIS_TAG" ]; then mvn versions:set -DnewVersion=$TRAVIS_TAG; fi
script:
- mvn clean install
after_success:
- bash <(curl -s https://codecov.io/bash)
- if [[ "$PROJECT_VERSION" == *SNAPSHOT ]]; then mvn deploy -B -DskipTests=true --settings settings.xml; fi
deploy:
  provider: releases
  api_key:
    secure: ADb8Vj5qW5708giNwMjoytPsAZlSpZQsnCCCZBZqIsZ1faTwdTIM7o6cnXubBWLXEImgIIHQ5CMcDugCRNs9SQpOAqws2/BQNFJAELQgMYiRq7yFeNPvzjTLmqTHp456aPqs2ZzAZA0Um8auJ5h/ds7N//EmVyHY+45AikuMCtLO3HFJRh0GOP1C+PENuHaQxCzA2TRin9ibbXkcvO4XSb/A2s/+nYwEIx4NNRUIFtht2eLnmTHyKplVfkm/SvJplsTs9Bl2+1E2O+AaOMaNHodWsbJeLH+Qo5+cghJNWbLBcIKNbQsH+O9jZ/QS6Jx6S39uV7MXsqvIb9dFotQYhrRE7heaNvkbjNdaMBUkJ+V8Zf8Fs/3/n0jhMg5oSq9RqdP3h0Td5BFlTf95HiCVxO4GHr6WnpxOrayV89NFy07DXVbw1msod6VIjB+5MI5UmEJXM2xmkFA6dnWkD6fAy7fozgPJPRTIVrCcnlwjkbFtigxVtEt/CjVkqmkTQFIgJfoI2bZ5Q8LV5xk8EYFleRIKdVvBRNe8FP7aqdVAa83jBlOBwDhsFvqmGMV/zd0wANB2kWLtLTdYSDSZ46Z3wxl1kVUVioH4A5+XTSbTR/Dts/7rISOIJuM6C1aH327H395D/iQDc46bCH38gNQ/Ta5obDTW86rduZZH7qE1bdI=
  file_glob: true
  file:
  - target/*.jar
  skip_cleanup: true
  on:
    tags: true
env:
  global:
  - secure: T14SqEMtNJ1ZO4bS53LgrDtolyeJhtr7vPRg9dlvw3yqis7nv2593dW6d8Dt7LRH07a+aslZ3h1QxEcTsikPeeHe3wk+veNFOq+5ekRkHmLleYhzGRlO19PBDFElDNFJXBVu4YK+vV4LwHd/xA6R3qBh/nexds45mNeMEcbqoy1r3+AoJYUCcLyGeNSi0mKbp/KZ+xD2pzyaFlJBgZZbgW8v1Wnyt2oxzLlkEQs53nu/eO/EggR0nxMh/cAM+beBLrPKvrR17fegolJY7TD+lwGndCaT2r7g8uZRwPY46qBXo2p1xNA99tof3NlQNeSLEncCYIcmH/06GhY38GIxfoHUjSgyuYXqCnMfKnPOZTZq27abgWIhXcWiXrs6eAzIRYunsNYhTH+wmbIzfcuB/A6mSNVU/31/6gMjwBczOoLow41WvlxLNqXSXyVbKH1k06gSOpbZC6dy1bvpUZp8RlzO/3Ns/joC3qs3q9UgEYpBpXC5iyITlOUpxUZuIDApQ7BfGs1aECNpMBAdtNU4ut5UY+sMCL3tCa5OJAE2oWvyQ44CCOPTqlrctJl35S6OseSFXvws6el0SVEb0aEDOT4sF0Reo71ffGWxNOOkp/LPiPtDWb6na8B0G9j4Fb5gaZvPDC29ZOmc519tbgmvAicnkqSUCuoWSWkj9fUTZ3I=
  - secure: JEYeVqkjVu8urZaljKpzbFzf4vyC5oZpMi48dzeaHRBEJvFUeUcms9ZqkhQN+P4UmkR/XisOrzlydcpiQBwXNxufDjxzV+W0harIJGaL/SGFKGTMADhTdit6+jFZ0P4tM/KdE4qif8s1l4DFILv1acranakRlwXINKjwwJeLdFw+2ULrWfkky4ACSprpn3OA0eLKX6PQhO1EcCxV3UB8xzlsJ8+h/hRs+81wiz5UNM8U82XWA7OGiBHQG4ESXmq+R+9FsFGX63Ar0SHtup43Try3Y9bTaY3qciJwQp0qiACR6mGDUkJpiI5Lw7ZrxG9fvycPeONUGcqS8REevBx9JQ2LxLcfyCD8BlcE+ttagAJuIgRbbjiZqCofovkuy7t6lStLRvOSFdVUhhiPcI67MndcqJNZgYuU6y0YuqGBGL5pCwD4ZuWr/c5ElXM4g7s2rBVsMFwTqeWRaldkYevioGSEStf4Fci051GtffXq139Ff6R4DCHZlpNLXDSebOnlSKk9M57NWDwmcGrxh9LikyFSZL0dSOrqESa+YEWD3K+QGZjo3rpt9MMMPi6AwJmSOdZY4d7DuKRhaUgr8fCB35AsPtX1PLy7oiXUfXIBpJi6qEiS4EEFLcSeWolSmKi1ew2vf+cEuQQ0Zkl909kzYADeoy42vrCQBvBohEaZe64=
